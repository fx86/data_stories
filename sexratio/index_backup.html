<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>How the sex ratio is not doing good</title>
		
		<!-- SEE IF ALL THE METADATA BELOW HAS TO BE CHANGED -->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no">

		<!-- PUT GOOGLE ANALYTICS SNIPPET HERE -->
		<!-- 
		<script type="text/javascript">
		    (function (i, s, o, g, r, a, m) {
		        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
		            (i[r].q = i[r].q || []).push(arguments)
		        }, i[r].l = 1 * new Date(); a = s.createElement(o),
		        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
		    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

		    ga('create', 'UA-78400808-1', 'auto');
		        ga('send', 'pageview');
		</script>
		 -->

		<!-- for Facebook -->          
		<!-- <meta property="og:title" content="HOW IS THE U-17 WORLD CUP DIFFERENT FROM THE WORLD CUP?" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://i.imgur.com/IKI0oTu.png" />
		<meta property="og:description" content="The Under-17 World Cup is set to begin in India. If you've seen the World Cup, what can you expect from the U-17 version?"/> -->

		<!-- for Twitter -->          
		<!-- <meta name="twitter:card" content="summary" />
		<meta name="twitter:title" content="HOW IS THE U-17 WORLD CUP DIFFERENT FROM THE WORLD CUP?" />
		<meta name="twitter:description" content="The Under-17 World Cup is set to begin in India. If you've seen the World Cup, what can you expect from the U-17 version?" />
		<meta name="twitter:image" content="https://i.imgur.com/IKI0oTu.png" />
 		-->


		<link rel="stylesheet" href="css/reveal_modified.css">
		<link rel="stylesheet" href="css/black_yellow.css" id="theme">
		<!-- <link rel="stylesheet" href="css/additional.css" id="theme"> -->


		<script src="js/head.min.js"></script>
		<script src="js/reveal_modified.js"></script>
		<script src="js/W.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.9.1/d3.min.js"></script>

</head>

<body>
	<div class="reveal">
		<div class="slides">

<section>

<section data-state="section01" id="section01">
<div class="footer" style="color:black">JUST TO CHECK</div>
		<script type="text/javascript">
	Reveal.addEventListener( 'section01', function() {

		var vh = W.getViewportHeight()/100 ;

		//creating a duplicate viewport height unit above
		//seems this W.js gives us the actual viewport height
		//taking the documentation for W.js at its word

var canvas = d3
				.select('#section01')
				;

canvas
		.selectAll("*")
	    .remove()
	    ;

//the line above clears the slide

var margin_canvas = {top: 1 * vh, right: 1*vh, bottom: 1*vh, left: 1*vh},
    width_canvas = (60 * vh) - margin_canvas.left - margin_canvas.right,
    height_canvas = (88 * vh) - margin_canvas.top - margin_canvas.bottom
    ;

var svg_canvas = canvas
	             	// .html('')
					.append("svg")
				    .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
				    .attr("height", height_canvas + margin_canvas.top + margin_canvas.bottom)
				    //the two lines above don't make sense, but don't want to mess with them
					//.append("g")
				    .attr("transform", 
				          "translate(" + margin_canvas.left + "," + 
				      margin_canvas.top + ")")
				    ;


var headline_text = 
				svg_canvas
					.append('text')
					.attr('y', 4 * vh)
					.attr('x', width_canvas/2)
					.attr('text-anchor','middle')
					.attr('font-size', 3.5*vh)
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.text('The Indian Sex Ratio')
		;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.attr('dy', 4*vh)
		.text('is not doing so well')
		;


var svg_image = svg_canvas
							.append('svg')
							//.attr('id','section_graphic')
							.attr('y', 10 * vh)
							.attr('x', 0 * vh)
							.attr('width', 55*vh)
							.attr('height', 60 * vh)

							//figure out if the svg is actually out of bounds
							//.append('g') //SEE IF YOU NEED THIS 
								//OR IF SVG SHOULD BE MADE G
							;

d3.xml("svgs/kheleo_min.svg", function(error, xml) {
if (error) {console.log(error); return;}

var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_image
				  .node()
				  .appendChild(svg_node)
				  ;

      var svg_path = svg_image
						       //.select("path#slide1_path")
						       .select("#slide1_path")
						       ;

		svg_path
		       .attr("fill", "#4f4f4f")
		       //.attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","1")
				       ;

});


var body_text = 
				svg_canvas
					.append('text')
					.attr('y', 60 * vh)
					.attr('x', 1*vh)
					.attr('text-anchor','start')
					.attr('font-size', 2.85*vh)
					.attr('fill','#4f4f4f')
					//.attr('font-weight','bold')
					;

body_text
		.append('tspan')
		.attr('x', 1*vh)
		.text('The Under-17 Football World Cup is set to')
		;

body_text
		.append('tspan')
		.attr('x', 1*vh)
		.attr('dy', 3.4*vh)
		.text('begin in India on October 6, 2017. For those')
		;

body_text
		.append('tspan')
		.attr('x', 1*vh)
		.attr('dy', 3.4*vh)
		.text("used to watching the 'senior' World Cup, what")
		;

body_text
		.append('tspan')
		.attr('x', 1*vh)
		.attr('dy', 3.4*vh)
		.text('should they expect from the U-17 version?')
		;

body_text
		.append('tspan')
		.attr('x', 1*vh)
		.attr('dy', 3.4*vh)
		.text('Find out by comparing stats from the last')
		;

body_text
		.append('tspan')
		.attr('x', 1*vh)
		.attr('dy', 3.4*vh)
		.text('U-17 World Cup held in 2015 in Chile and the')
		;

body_text
		.append('tspan')
		.attr('x', 1*vh)
		.attr('dy', 3.4*vh)
		.text('2014 World Cup held in Brazil.')
		;

/*
svg_canvas
			.append('text')
			.attr('font-size', 3*vh)
			.attr('y', 86 * vh)
			//.attr("class","footer")
			//.style("class","footer")
			.attr('x', 21 * vh)
			.text('FLICK UP')
			.attr('fill','#4f4f4f')
			.style('font-weight','bold')
			;
*/

var width_arrow = (3 * vh),
    height_arrow = (3 * vh)
    ;

var svg_arrow = svg_canvas
				.append("svg")
				.attr('y', 83.2 * vh)
				//.attr("class","footer")
				//.style("class","footer")
				.attr('x', width_canvas/2 - margin_canvas.left)
 			    .attr("width", width_arrow)
			    .attr("height", height_arrow)
				//.append("g")
			    ;

		d3.xml("svgs/up_arrow_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_arrow
					  .node()
					  .appendChild(svg_node)
					  ;
		});


var width_logo = 12 * vh,
    height_logo = 4 * vh
    ;

var svg_logo = svg_canvas
				.append("svg")
				.attr('y', 83 * vh)
				//.attr("class","footer")
				//.style("class","footer")
				.attr('x', 3 * vh)
 			    //.attr('x', 42 * vh)
 			    .attr("width", width_logo)
			    .attr("height", height_logo)
				//.append("g")
			    .append("a")
				.attr("xlink:href", "http://www.wionews.com")
			    ;

		d3.xml("svgs/wion_hor_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_logo
				  .node()
				  .appendChild(svg_node)
				  ;
		});
	});

	</script>					
	
</section>


<section data-state="section02" id="section02">

<script type="text/javascript">
	Reveal.addEventListener( 'section02', function() {

var vh = W.getViewportHeight()/100 //creating a duplicate viewport height unit

var canvas = d3
				.select('#section02')
				;

canvas
		.selectAll("*")
	    .remove()
	    ;

var margin_canvas = {top: 1 * vh, right: 1*vh, bottom: 1*vh, left: 1*vh},
    width_canvas = (60 * vh) - margin_canvas.left - margin_canvas.right,
    height_canvas = (88 * vh) - margin_canvas.top - margin_canvas.bottom
    ;

var svg_canvas = canvas
					.append("svg")
				    .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
				    .attr("height", height_canvas + margin_canvas.top + margin_canvas.bottom)
					.attr("transform", 
				          "translate(" + margin_canvas.left + "," + margin_canvas.top + ")")
				    //.append("g")
				    ;

var headline_text = 
				svg_canvas
					.append('text')
					.attr('y', 4 * vh)
					.attr('x', width_canvas/2)
					.attr('text-anchor','middle')
					.attr('font-size', 3.5*vh)
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.text('YOU COULD SEE MORE GOALS')
		;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.attr('dy', 4*vh)
		.text('IN THE U-17 WORLD CUP...')
		;


svg_canvas
	.append('line')
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('fill','#4f4f4f')
    .attr('x1', width_canvas/2)
    .attr('y1', 12*vh)
    .attr('x2', width_canvas/2)
    .attr('y2', 35*vh)

    ;

var left_text = 
				svg_canvas
					.append('text')
				
					.attr('y', 14 * vh)
					.attr('x', width_canvas/4)
					.attr('text-anchor','middle')
					;

left_text
		.append('tspan')
		.text('2014 WORLD CUP')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('The tournament had')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('171 goals scored over')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('64 games at')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('an average of')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('2.7 goals per game')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

var right_text = 
				svg_canvas
					.append('text')
					.attr('y', 14 * vh)
					.attr('x', width_canvas*(3/4))
					.attr('dx', 1*vh)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

right_text
		.append('tspan')
		.text('2015 U-17 WORLD CUP')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('The tournament had')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('151 goals scored over')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('52 games at')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('an average of')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('2.9 goals per game')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

var height_layer = 58 * vh
					;

var svg_tap_layer = svg_canvas
							.append('svg')
							.attr('y', 38 * vh)
							.attr('x', 1 * vh)
							.attr('id','svg_tap_layer')
							.attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
						    .attr("height", height_layer)
							//.append("g") // SEE IF COMMENTING THIS OUT POSES A PROBLEM LATER
						    ;

d3.csv("data/slide_2A_goal_averag.csv", function(data) {

	var margin_graphic = {top: 2*vh, right: 5*vh, bottom: 20*vh, left: 5*vh},
	    width_graphic =  width_canvas - margin_graphic.left - margin_graphic.right,
	    height_graphic = height_layer - margin_graphic.top - margin_graphic.bottom
	    ;

		// set the ranges
		var x = d3.scaleBand()
		          .range([0, width_graphic])
				  .padding(0.5)
		          ;

		var y = d3.scaleLinear()
		          .range([height_graphic, 0])
		          //.padding(0.1)
		          ;

		var svg_graphic = svg_tap_layer
							//  .html('')
								.append("svg")
					//			.attr('y', 32 * vh)
					//			.attr('x', 1 * vh)
								.attr('id','svg_graphic')
							    .attr("width", width_graphic + margin_graphic.left + margin_graphic.right)
							    .attr("height", height_graphic + margin_graphic.top + margin_graphic.bottom)
							  	.append("g")
							    .attr("transform", 
							          "translate(" + margin_graphic.left + "," + margin_graphic.top + ")")
							    ;

  // format the data
  data.forEach(function(d) {
    d.avg_goals = d3.format(".2n")(+d.avg_goals);
	  });

  // Scale the range of the data in the domains
  y.domain([0, 3.2])
  x.domain(data.map(function(d) { return d.tournament; }));
  
  // append the rectangles for the bar chart
svg_bars = svg_graphic
			  .selectAll(".bar")
			      .data(data)
			      .enter()
			      .append("g")

			  ;
svg_bars
	  .attr("class", "bars")
	  .append("rect")
      .attr("fill","rgb(126,126,126)")
      .attr("class", "bar")
      .attr("x", function(d) {return x(d.tournament); })
      .attr("width", x.bandwidth())
      .attr("height", 0)
      .attr("y", height_graphic)
      .transition()
	  .delay(200)
	  .duration(500)
	      .attr("height", function(d) {return height_graphic - y(d.avg_goals); } )
	      .attr('y', function(d) { return y(d.avg_goals); } )
      ;

var bars = svg_graphic
				.selectAll(".bars")
				;

bars
	.append("text")
	//.attr('class','svgtext') 
	  //.attr("class", "label")
	  //.attr('transform', 'rotate(-90)')
	  .attr('font-size', 2.5*vh)
	  .attr("y", function(d) { return y(d.avg_goals) - (1*vh); })
	  .attr("x", function(d) { return x(d.tournament) + (3 * vh); })
	  .text(function(d) { return d.avg_goals; })
	  .attr('font-weight','bold')
	  .attr('fill','#4f4f4f')
	  .attr("fill-opacity","0")
	  .transition()
	  .delay(650)
  	  .attr("fill-opacity","1")
	  ;

  // add the x Axis
  /*
  svg_graphic
  		.append("g")
	      .attr("transform", "translate(0," + height_graphic + ")")
	      .attr('class','axis')
	      .call(d3.axisBottom(x))
	      ;
*/


  // add the x Axis
  svg_graphic
  		.append("g")
  		//	.attr("transform", "translate(" + width/5 + ",0)")
  		//.attr('stroke','#ffda29')
		  .attr("transform", "translate(0," + height_graphic + ")")
	      .call(d3.axisBottom(x))
		      .selectAll("text")
		      	.attr('class','axis')
		      	.attr('font-size', 2.5*vh)
		      	 .attr('fill','#4f4f4f')
		      	 .attr('font-weight','bold')
		        //.selectAll("line")
		      	//.attr('stroke','#4f4f4f')
	      		;

	  svg_graphic
	  			.selectAll(".domain")
	  			.attr("stroke", '#ffda29')
	  			;

	  svg_graphic
	  			.selectAll(".tick line")
	  			.attr("stroke", '#ffda29')
	  			;
});

/*
svg_canvas
			.append('text')
			.attr('font-size', 3*vh)
			.attr('y', 86 * vh)
			.attr('x', 21 * vh)
			.text('FLICK UP')
			.attr('fill','#4f4f4f')
			.style('font-weight','bold')
			;
*/

var width_arrow = (3 * vh),
    height_arrow = (3 * vh)
    ;

var svg_arrow = svg_canvas
					.append("svg")
					.attr('y', 83.2 * vh)
					.attr('x', width_canvas/2 - margin_canvas.left)
	 			    .attr("width", width_arrow)
				    .attr("height", height_arrow)
					.append("g")
				    ;

d3.xml("svgs/up_arrow_min.svg", function(error, xml) {
if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_arrow
					  .node()
					  .appendChild(svg_node)
					  ;
		});

var width_logo = 12 * vh,
    height_logo = 4 * vh
    ;

var svg_logo = svg_canvas
				.append("svg")
				.attr('y', 83 * vh)
				.attr('x', 3 * vh)
 			    .attr("width", width_logo)
			    .attr("height", height_logo)
				//.append("g")
			    .append("a")
				.attr("xlink:href", "http://www.wionews.com")
			    ;

		d3.xml("svgs/wion_hor_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

		svg_logo
			  .node()
			  .appendChild(svg_node)
			  ;

		});

	
	});

	</script>					

	
</section>

<section data-state="section03" id="section03">


	<script type="text/javascript">
	Reveal.addEventListener( 'section03', function() {

			var vh = W.getViewportHeight()/100 ;


var canvas = d3
				.select('#section03')
				;

canvas
		.selectAll("*")
	    .remove()
	    ;

var margin_canvas = {top: 1 * vh, right: 1*vh, bottom: 1*vh, left: 1*vh},
    width_canvas = (60 * vh) - margin_canvas.left - margin_canvas.right,
    height_canvas = (88 * vh) - margin_canvas.top - margin_canvas.bottom
    ;

var svg_canvas = canvas
					.append("svg")
				    .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
				    .attr("height", height_canvas + margin_canvas.top + margin_canvas.bottom)
				    //the two lines above don't make sense, but don't want to mess with them
					//.append("g")
				    .attr("transform", 
				          "translate(" + margin_canvas.left + "," + margin_canvas.top + ")")
				    ;


var headline_text = 
				svg_canvas
					.append('text')
					.attr('y', 4 * vh)
					.attr('x', width_canvas/2)
					.attr('text-anchor','middle')
					.attr('font-size', 3.5*vh)
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.text('THERE MIGHT BE FEWER')
		;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.attr('dy', 4*vh)
		.text('BORING 0-0 DRAWS...')
		;

svg_canvas
	.append('line')
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', width_canvas/2)
    .attr('y1', 12*vh)
    .attr('x2', width_canvas/2)
    .attr('y2', 38*vh)
    ;

var left_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas/4)

					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

left_text
		.append('tspan')
		.text('2014 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('64 games played,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('11 of which were')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;


left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('0-0 at full-time.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('This means around')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('2 in every 10 games')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('were 0-0 at full-time.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

var right_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas*(3/4))
					.attr('dx', 1*vh)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

right_text
		.append('tspan')
		.text('2015 U-17 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('52 games played,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('5 of which were')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('0-0 at full-time.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;
 

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('This means around')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('1 in every 10 games')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('were 0-0 at full-time.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

var height_layer = 38 * vh
					;

var svg_left = svg_canvas
							.append('svg')
							.attr('y', 42 * vh)
							.attr('x', (width_canvas + margin_canvas.left + margin_canvas.right)/8)
							.attr('id','svg_left')
							.attr("width", (width_canvas + margin_canvas.left + margin_canvas.right)/3)
						    .attr("height", height_layer)
							//.append("g") // SEE IF COMMENTING THIS OUT POSES A PROBLEM LATER
						    ;


d3.xml("svgs/slide_2_squares_min2.svg", function(error, xml) {
if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_left
					  .node()
					  .appendChild(svg_node)
					  ;
		
      svg_left
		       .select("#square1")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(250)
		       .attr("fill-opacity","1")
		       ;



	svg_left
		       .select("#square2")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(500)
		       .attr("fill-opacity","1")
		       ;


		});

var svg_right = svg_canvas
							.append('svg')
							.attr('y', 42 * vh)
							.attr('x', (width_canvas + margin_canvas.left + margin_canvas.right)*3/5)
							.attr('id','svg_left')
							.attr("width", (width_canvas + margin_canvas.left + margin_canvas.right)/3)
						    .attr("height", height_layer)
							//.append("g") // SEE IF COMMENTING THIS OUT POSES A PROBLEM LATER
						    ;


d3.xml("svgs/slide_2_squares_min2.svg", function(error, xml) {
if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_right
					  .node()
					  .appendChild(svg_node)
					  ;

      svg_right
		       .select("#square1")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(250)
		       .attr("fill-opacity","1")		       ;

		});

/*
svg_canvas
			.append('text')
			.attr('font-size', 3*vh)
			.attr('y', 86 * vh)
			.attr('x', 21 * vh)
			.text('FLICK UP')
			.attr('fill','#4f4f4f')
			.style('font-weight','bold')
			;
*/

var width_arrow = (3 * vh),
    height_arrow = (3 * vh)
    ;

var svg_arrow = svg_canvas
				.append("svg")
				.attr('y', 83.2 * vh)
				.attr('x', width_canvas/2 - margin_canvas.left)
 			    .attr("width", width_arrow)
			    .attr("height", height_arrow)
				//.append("g")
			    ;


		d3.xml("svgs/up_arrow_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_arrow
					  .node()
					  .appendChild(svg_node)
					  ;
		});


var width_logo = 12 * vh,
    height_logo = 4 * vh
    ;

var svg_logo = svg_canvas
				.append("svg")
				.attr('y', 83 * vh)
				.attr('x', 3 * vh)
 			    .attr("width", width_logo)
			    .attr("height", height_logo)
				//.append("g")
			    .append("a")
				.attr("xlink:href", "http://www.wionews.com")
			    ;

		d3.xml("svgs/wion_hor_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_logo
				  .node()
				  .appendChild(svg_node)
				  ;
		});
	});


	</script>					
	
</section>

<section data-state="section04" id="section04">

	<script type="text/javascript">
	Reveal.addEventListener( 'section04', function() {

			var vh = W.getViewportHeight()/100 ;


var canvas = d3
				.select('#section04')
				;

canvas
		.selectAll("*")
	    .remove()
	    ;

var margin_canvas = {top: 1 * vh, right: 1*vh, bottom: 1*vh, left: 1*vh},
    width_canvas = (60 * vh) - margin_canvas.left - margin_canvas.right,
    height_canvas = (88 * vh) - margin_canvas.top - margin_canvas.bottom
    ;

var svg_canvas = canvas
					.append("svg")
				    .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
				    .attr("height", height_canvas + margin_canvas.top + margin_canvas.bottom)
				    //the two lines above don't make sense, but don't want to mess with them
					//.append("g")
				    .attr("transform", 
				          "translate(" + margin_canvas.left + "," + margin_canvas.top + ")")
				    ;


var headline_text = 
				svg_canvas
					.append('text')
					.attr('y', 4 * vh)
					.attr('x', width_canvas/2)
					.attr('text-anchor','middle')
					.attr('font-size', 3.5*vh)
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.text('YOU COULD SEE')
		;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.attr('dy', 4*vh)
		.text('FEWER HEADERS...')
		;

svg_canvas
	.append('line')
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', width_canvas/2)
    .attr('y1', 12*vh)
    .attr('x2', width_canvas/2)
    .attr('y2', 31*vh)
    ;

var left_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas/4)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

left_text
		.append('tspan')
		.text('2014 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('171 goals scored,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('32 were headers.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;


left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text("That's around")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('19 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

var right_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas*(3/4))
					.attr('dx', 1*vh)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

right_text
		.append('tspan')
		.text('2015 U-17 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('151 goals scored,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('17 were headers.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text("That's around")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;
 
right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('11 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;


svg_canvas
	.append('text')
	.attr('y', 37 * vh)
	.attr('x',  (width_canvas + margin_canvas.left + margin_canvas.right)/2)
	.attr('text-anchor','middle')
	.attr('font-size', 2.5*vh)
	.text('Breakup of goals')
	.attr('fill','#4f4f4f') //NOTE ALWAYS SPECIFY THE FILL ATTRIBUTE AFTER THE TEXT
	.style('font-weight','bold')
	;


var height_layer = 58 * vh
          ;

var svg_layer = svg_canvas
                      .append('svg')
                      .attr('y', 38 * vh)
                      .attr('x', 1 * vh)
                      .attr('id','svg_layer')
                      .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
                      .attr("height", height_layer)
                      ;

var margin = {top: 2*vh, right: 7*vh, bottom: 20*vh, left: 12*vh},
    width = +svg_layer.attr("width") - margin.left - margin.right,
    height = +svg_layer.attr("height") - margin.top - margin.bottom,
    g = svg_layer.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")")
    ;

//code for normalised stack chart from https://bl.ocks.org/mbostock/3886394

var x = d3.scaleBand()
    .rangeRound([0, width])
    .padding(0.3)
    .align(0.1)
    ;

var y = d3.scaleLinear()
    .rangeRound([height, 0])
    ;

var z = d3.scaleOrdinal()
    .range(["rgb(79,79,79)", "rgb(126,126,126)", "rgb(165,165,165)", "rgb(200,200,200)"])
    //.range(["rgb(79,79,79)", "rgb(90,90,90)", "rgb(126,126,126)", "rgb(155,155,155)"])
    //.range(["#4f4f4f", "#606060", "#727272", "#838383"])
    //.range(["#4f4f4f", "#727272", "#959595", "#b8b8b8"])
    ;

var stack = d3.stack()
    .offset(d3.stackOffsetExpand)
    ;

d3.csv("data/slide_3_shots_alt.csv", type, function(error, data) {
  if (error) throw error;
  data.sort(function(a, b) { return b[data.columns[1]] / b.total - a[data.columns[1]] / a.total; });
  
  x.domain(data.map(function(d) { return d.tournament; }))
  ;
  
  z.domain(data.columns.slice(1))
  ;

 var serie = g.selectAll(".serie")
    .data(stack.keys(data.columns.slice(1))(data))
    .enter().append("g")
      .attr("class", "serie")
      .attr("fill", function(d) { return z(d.key); })
      ;
  
  serie.selectAll("rect")
    .data(function(d) { return d; })
    .enter().append("rect")
      .attr("x", function(d) { return x(d.data.tournament); })
	  .attr("width", x.bandwidth())
      .attr("y", function(d) { return y(d[0]); })
      .attr("height", 0)
      .transition()
	  .delay(200)
	  .duration(500)
      .attr("y", function(d) { return y(d[1]); })
      .attr("height", function(d) { return y(d[0]) - y(d[1]); })
      
      ;
  
  g.append("g")
  		.attr("id","x_axis")
      //.attr("class", "x_axis axis")
      .attr("transform", "translate(0," + height + ")")
      .call(d3.axisBottom(x))
      		.selectAll("text")
		      	.attr('class','axis')
		      	.attr('font-size', 2.5*vh)
		      	 .attr('fill','#4f4f4f')
		      	 .attr('font-weight','bold')
      			;

    g
	.select("#x_axis")
	.selectAll(".domain")
	.attr("stroke", '#ffda29')
	  			;

	g
	.select("#x_axis")
	.selectAll("line")
	.attr("stroke",'#ffda29')
	;
  
  g.append("g")
      .attr("id", "y_axis")
      .call(d3.axisLeft(y)
      .ticks(4, "%"))
      .selectAll("text")
		      	.attr('class','axis')
		      	.attr('font-size', 2.2 * vh)
		      	 .attr('fill','#4f4f4f')
		      	 //.attr('font-weight','bold')
     			 ;

   g
	.select("#y_axis")
	.selectAll(".domain")
	.attr("stroke", '#4f4f4f')
	  			;

	g
	.select("#y_axis")
	.selectAll("line")
	.attr("stroke",'#4f4f4f')
	;

svg_layer
	.append("text")
	.attr('font-size', 2.5*vh)
    .attr("class", "axis")
    .attr("text-anchor", "end")
    .attr("y", 3*vh)
    .attr("x", -10*vh)
    .attr("transform", "rotate(-90)")
    .text("Percent of goals")
    .attr('fill','#4f4f4f')
    ;

  var legend = serie.append("g")
      .attr("class", "legend")
      .attr("transform", function(d) { var d = d[d.length - 1]; return "translate(" + (x(d.data.tournament) + x.bandwidth()) + "," + ((y(d[0]) + y(d[1])) / 2) + ")"; })
      ;
  
  legend.append("line")
      .attr("x1", -1*vh)
      .attr("x2", 1*vh)
      .attr("stroke", "#4f4f4f")
      .attr("stroke-opacity","0")
	  .transition()
		  .delay(650)
	  	  .attr("stroke-opacity","1")
      ;
  
  legend.append("text")
      .attr("x", 2*vh)
      .attr("dy", 1*vh)
      .style("font-size", 2.5*vh)
      .text(function(d) { return d.key; })
      .attr("fill", "#4f4f4f")
     .attr("fill-opacity","0")
	  .transition()
		  .delay(650)
	  	  .attr("fill-opacity","1")
      ;
      
});

function type(d, i, columns) {
  for (i = 1, t = 0; i < columns.length; ++i) t += d[columns[i]] = +d[columns[i]];
  d.total = t;
  return d;
}

/*
svg_canvas
			.append('text')
			.attr('font-size', 3*vh)
			.attr('y', 86 * vh)
			.attr('x', 21 * vh)
			.text('FLICK UP')
			.attr('fill','#4f4f4f')
			.style('font-weight','bold')
			;
*/

var width_arrow = (3 * vh),
    height_arrow = (3 * vh)
    ;

var svg_arrow = svg_canvas
				.append("svg")
				.attr('y', 83.2 * vh)
				.attr('x', width_canvas/2 - margin_canvas.left)
 			    .attr("width", width_arrow)
			    .attr("height", height_arrow)
				//.append("g")
			    ;


		d3.xml("svgs/up_arrow_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_arrow
					  .node()
					  .appendChild(svg_node)
					  ;
		});


var width_logo = 12 * vh,
    height_logo = 4 * vh
    ;

var svg_logo = svg_canvas
				.append("svg")
				.attr('y', 83 * vh)
				.attr('x', 3 * vh)
 			    .attr("width", width_logo)
			    .attr("height", height_logo)
				//.append("g")
			    .append("a")
				.attr("xlink:href", "http://www.wionews.com")
			    ;

		d3.xml("svgs/wion_hor_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_logo
				  .node()
				  .appendChild(svg_node)
				  ;
		});




	});

	</script>					
	
</section>

<section data-state="section05" id="section05">
			

	
			<script type="text/javascript">
	Reveal.addEventListener( 'section05', function() {

			var vh = W.getViewportHeight()/100 ;


var canvas = d3
				.select('#section05')
				;

canvas
		.selectAll("*")
	    .remove()
	    ;

var margin_canvas = {top: 1 * vh, right: 1*vh, bottom: 1*vh, left: 1*vh},
    width_canvas = (60 * vh) - margin_canvas.left - margin_canvas.right,
    height_canvas = (88 * vh) - margin_canvas.top - margin_canvas.bottom
    ;

var svg_canvas = canvas
					.append("svg")
				    .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
				    .attr("height", height_canvas + margin_canvas.top + margin_canvas.bottom)
				    //the two lines above don't make sense, but don't want to mess with them
					//.append("g")
				    .attr("transform", 
				          "translate(" + margin_canvas.left + "," + margin_canvas.top + ")")
				    ;


var headline_text = 
				svg_canvas
					.append('text')
					.attr('y', 4 * vh)
					.attr('x', width_canvas/2)
					.attr('text-anchor','middle')
					.attr('font-size', 3.5*vh)
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.text('THERE MIGHT BE MORE GOALS')
		;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.attr('dy', 4*vh)
		.text('FROM THROUGH BALLS...')
		;

svg_canvas
	.append('line')
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', width_canvas/2)
    .attr('y1', 12*vh)
    .attr('x2', width_canvas/2)
    .attr('y2', 31*vh)
    ;

var left_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas/4)

					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

left_text
		.append('tspan')
		.text('2014 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('171 goals scored,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('17 coming from a')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;


left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('defence-splitting pass,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('that is 10 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;
/*
left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('10 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;
		*/

var right_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas*(3/4))
					.attr('dx', 1*vh)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

right_text
		.append('tspan')
		.text('2015 U-17 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('151 goals scored,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('25 coming from a')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('defence-splitting pass,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;
 

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('that is 17 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;
/*
right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('17 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;
*/
var height_layer = 50 * vh
          ;

var svg_layer = svg_canvas
                      .append('svg')
                      .attr('y', 37 * vh)
                      .attr('x', 1 * vh)
                      .attr('id','svg_layer')
                      .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
                      .attr("height", height_layer)
                      ;


var margin = {top: 3.5*vh, right: 3*vh, bottom: 7*vh, left: 28*vh},
    width = +svg_layer.attr("width") - margin.left - margin.right,
    height = +svg_layer.attr("height") - margin.top - margin.bottom;

	var x = d3
				//.scaleBand()
				.scaleLinear()
				//.rangeRound([0, width])
				.range([0, width])
				//.padding(0.1)
				;

    var y = d3   			
    			.scalePoint()
    			//.rangeRound([height, 0])
    			.range([height, 0])
    			;

var line = d3.line()
    .y(function(d) { return y(d.play); })
    .x(function(d) { return x(d["2014 WC"]); })
    //.curve(d3.curveStep)
    ;

var line2 = d3.line()
    			.y(function(d) { return y(d.play); })
			    .x(function(d) { return x(d["2015 U-17 WC"]);})
			    //.curve(d3.curveStep)
			    ;

var g = svg_layer.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
    	;

d3.csv("data/slide_4_vertical_line_chart.csv", function(d) {
  d["2014 WC"] = +d["2014 WC"];
  d["2015 U-17 WC"] = +d["2015 U-17 WC"];
  return d;
}, function(error, data) {
  if (error) throw error;

 y.domain(data.map(function(d) { return d.play; }));
 x.domain([-1, 25]); 


var x_axis =     g.append("g")
      //.attr("class", "axis axis--x")
      //.attr("transform", "translate(0," + height + ")")
      .attr("transform", "translate(0," + 0*vh + ")")
      //.call(d3.axisBottom(x).ticks(5))
      .call(d3.axisTop(x).ticks(5))
      ;

svg_canvas
	.append('text')
	.attr("class","svgtext")
	.attr("y", 35.7*vh)
	.attr("x", 32*vh)
	.text("Percent of goals scored")
	.attr("font-weight","bold")
	.attr("font-size", 2.3*vh)
	;

svg_canvas
	.append('text')
	.attr("class","svgtext")
	.attr("y", 35.7*vh)
	.attr("x", 4*vh)
	.text("How the goals came")
	.attr("font-weight","bold")
	.attr("font-size", 2.3*vh)
	;

svg_canvas
	.append('line')
	.attr("id","line_separator")
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', 1*vh)
    .attr('y1', 33*vh)
    .attr('x2', 57*vh)
    .attr('y2', 33*vh)
    ;

 x_axis
    .selectAll("text")
    .attr("class","svgtext")
    .attr("font-size", 2.25*vh)
		 //     .attr("transform", "rotate(-90)")
		   //   .attr("text-anchor", "end")
		    //  .attr("dy", 1*vh)
	;

x_axis
		.select('.domain')
		.attr('stroke','#4f4f4f')
		;

x_axis
		.selectAll('.tick')
		.selectAll('line')
		.attr('stroke','#4f4f4f')
		;

var y_axis =  g.append("g")
		      //.attr("class", "axis axis--y")
		      //.call(d3.axisLeft(y).ticks(10, "%"))
		    //.call(d3.axisLeft(y).ticks(10))
		    .call(d3.axisLeft(y))
		    ;
y_axis
    .selectAll("text")
    .attr("class","svgtext")
    .attr("font-size", 2.26 * vh)
    //.append("text")
      //.attr("transform", "rotate(-90)")
      //.attr("y", 1*vh)
      //.attr("dy", "0.71em")
      //.attr("text-anchor", "end")
      //.text("Percent of goals scored")
      ;

	y_axis
		.select('.domain')
		.attr('stroke','#4f4f4f')
		;

	y_axis
		.selectAll('.tick')
		.selectAll('line')
		.attr('stroke','#4f4f4f')
		;


//var line_path =  
 				g.append("path")
                    .datum(data)
                    .attr("class", "line")
                    .attr("id","line1")
                    //.attr("d", line)
                    .attr("d",
                    function(d) {
                        return line(d);
                    })
                    .attr("fill","none")
                    .attr("stroke","#4f4f4f")
                    .attr("stroke-width", 0.1*vh)
                    .style("stroke-dasharray", "2, 2")
                    .attr("opacity","0")
                        .transition()
				    	.delay(300)
				    	.attr("opacity","1")
                                        ;


//var line2_path = 
				g.append("path")
                    .datum(data)
                    .attr("class", "line")
                    .attr("id","line2")
                    //.attr("d", line2)
                    .attr("d",
                    function(d) {
                        return line2(d);
                    })
                    .attr("fill","none")
                    .attr("stroke","rgb(126,126,126)")
                    .attr("stroke-width", 0.1*vh)
                    .style("stroke-dasharray", "2, 2")
                    .attr("opacity","0")
                        .transition()
				    	.delay(800)
				    	.attr("opacity","1")

                    ;


var circles =  g.selectAll("circle")
			    .data(data)
  				.enter()
  				;

circles
  	.append("circle")
    //.attr("class", "circle")
    .attr("cy", function(d) { return y(d.play); })
    .attr("cx", function(d) { return x(d["2014 WC"]); })
    .attr("r", 0.8*vh)
    .attr("fill","#4f4f4f")
	.attr("fill-opacity","0")
    .transition()
    	.delay(300)
    	.attr("fill-opacity","1")
    ;

  circles
  	.append("circle")
    //.attr("class", "circle")
    .attr("cy", function(d) { return y(d.play); })
    .attr("cx", function(d) { return x(d["2015 U-17 WC"]); })
    .attr("r", 0.8*vh)
    .attr("fill","rgb(126,126,126")
    .attr("fill-opacity","0")
    .transition()
    	.delay(800)
    	.attr("fill-opacity","1")
    ;

   g
   	.append("circle")
    //.attr("class", "circle")
    .attr("cy", 15*vh )
    .attr("cx", 13.5*vh)
    .attr("r", 0.8*vh)
    .attr("fill","#4f4f4f")
	.attr("fill-opacity","0")
    .transition()
    	.delay(300)
    	.attr("fill-opacity","1")

    ;

   g
  	.append("circle")
    //.attr("class", "circle")
    .attr("cy", 18*vh)
    .attr("cx", 13.5*vh)
    .attr("r", 0.8*vh)
    .attr("fill","rgb(126,126,126")
	.attr("fill-opacity","0")
    .transition()
    	.delay(800)
    	.attr("fill-opacity","1")
    ;


   g
   	.append("text")
	.attr("class","svgtext")
    .attr("y", 15.7*vh )
    .attr("x", 15*vh)
    .text('2014 WC')
    .attr("font-size", 2.4*vh)
    .attr("fill","#4f4f4f")
    .attr("fill-opacity","0")
    .transition()
    	.delay(300)
    	.attr("fill-opacity","1")
    ;

   g
  	.append("text")
  	.attr("class","svgtext")
    .attr("y", 18.7*vh)
    .attr("x", 15*vh)
    .attr("font-size", 2.4*vh)
    .text('2015 U-17 WC')
    .attr("fill","rgb(126,126,126")
    .attr("fill-opacity","0")
    .transition()
    	.delay(800)
    	.attr("fill-opacity","1")
    ;

});

/*
svg_canvas
			.append('text')
			.attr('font-size', 3*vh)
			.attr('y', 86 * vh)
			.attr('x', 21 * vh)
			.text('FLICK UP')
			.attr('fill','#4f4f4f')
			.style('font-weight','bold')
			;
*/

var width_arrow = (3 * vh),
    height_arrow = (3 * vh)
    ;

var svg_arrow = svg_canvas
				.append("svg")
				.attr('y', 83.2 * vh)
				.attr('x', width_canvas/2 - margin_canvas.left)
 			    .attr("width", width_arrow)
			    .attr("height", height_arrow)
				//.append("g")
			    ;


		d3.xml("svgs/up_arrow_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_arrow
					  .node()
					  .appendChild(svg_node)
					  ;
		});


var width_logo = 12 * vh,
    height_logo = 4 * vh
    ;

var svg_logo = svg_canvas
				.append("svg")
				.attr('y', 83 * vh)
				.attr('x', 3 * vh)
 			    .attr("width", width_logo)
			    .attr("height", height_logo)
				//.append("g")
			    .append("a")
				.attr("xlink:href", "http://www.wionews.com")
			    ;

		d3.xml("svgs/wion_hor_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_logo
				  .node()
				  .appendChild(svg_node)
				  ;
		});


	});

	</script>				

	
</section>

<section data-state="section06" id="section06">

	<script type="text/javascript">
	Reveal.addEventListener( 'section06', function() {

			var vh = W.getViewportHeight()/100 ;


var canvas = d3
				.select('#section06')
				;

canvas
		.selectAll("*")
	    .remove()
	    ;

var margin_canvas = {top: 1 * vh, right: 1*vh, bottom: 1*vh, left: 1*vh},
    width_canvas = (60 * vh) - margin_canvas.left - margin_canvas.right,
    height_canvas = (88 * vh) - margin_canvas.top - margin_canvas.bottom
    ;

var svg_canvas = canvas
					.append("svg")
				    .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
				    .attr("height", height_canvas + margin_canvas.top + margin_canvas.bottom)
				    //the two lines above don't make sense, but don't want to mess with them
					//.append("g")
				    .attr("transform", 
				          "translate(" + margin_canvas.left + "," + margin_canvas.top + ")")
				    ;


var headline_text = 
				svg_canvas
					.append('text')
					.attr('y', 4 * vh)
					.attr('x', width_canvas/2)
					.attr('text-anchor','middle')
					.attr('font-size', 3.5*vh)
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.text('FEWER GOALS SCORED NEAR')
		;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.attr('dy', 4*vh)
		.text('THE GOALMOUTH...')
		;


svg_canvas
	.append('line')
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', width_canvas/2)
    .attr('y1', 12*vh)
    .attr('x2', width_canvas/2)
    .attr('y2', 35*vh)
    ;

var left_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas/4)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

left_text
		.append('tspan')
		.text('2014 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('171 goals scored,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('43 of them from')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;


left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('inside the goal area.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;


left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text("That's around")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('25 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

var right_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas*(3/4))
					.attr('dx', 1*vh)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

right_text
		.append('tspan')
		.text('2015 U-17 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('151 goals scored,')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('20 scored from')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('inside the goal area.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text("That's around")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;
 
right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('13 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

var svg_field = svg_canvas
				.append("svg")
				.attr('y', 52 * vh)
				.attr('x', 1 * vh)
 			    .attr("width", 28*vh)
			    .attr("height", 28*vh)
				//.append("g")
			    ;


d3.xml("svgs/football_field_min2.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_field
					  .node()
					  .appendChild(svg_node)
					  ;

		});

var table_col1 = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.5*vh)
					.attr('x', 29*vh)
					.attr('y', 41*vh)
					.attr('text-anchor','start')
					.text("Breakup of goals by area")
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					//.attr('text-decoration','underline')
					;


var table_col1 = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.5*vh)
					.attr('x', 34*vh)
					.attr('y', 46*vh)
					.attr('text-anchor','middle')
					;

table_col1
		.append('tspan')
		.text('Area')
		.attr('x', 34*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		;

table_col1
		.append('tspan')
		.attr('dy', 2.7*vh)
		.attr('x', 34*vh)
		.text('scored from')
		.attr('fill','#4f4f4f')
		//.attr('text-decoration','underline')
		.attr('font-weight','bold')
		;

table_col1
		.append('tspan')
		.attr('dy', 5.3*vh)
		.attr('x', 34*vh)
		.text('Inside')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col1
		.append('tspan')
		.attr('dy', 2.7*vh)
		.attr('x', 34*vh)
		.text('goal area')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col1
		.append('tspan')
		.attr('dy', 8*vh)
		.attr('x', 34*vh)
		.text('Penalties')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col1
		.append('tspan')
		.attr('dy', 5.3*vh)
		.attr('x', 34*vh)
		.text('Inside')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col1
		.append('tspan')
		.attr('dy', 2.7*vh)
		.attr('x', 34*vh)
		.text('penalty area')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col1
		.append('tspan')
		.attr('dy', 5.3*vh)
		.attr('x', 34*vh)
		.text('Outside')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col1
		.append('tspan')
		.attr('dy', 2.7*vh)
		.attr('x', 34*vh)
		.text('penalty area')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

var table_col2 = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.5*vh)
					.attr('x', 45*vh)
					.attr('y', 46*vh)
					.attr('text-anchor','middle')
					;

table_col2
		.append('tspan')
		.text('2014')
		.attr('x', 45*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		;

table_col2
		.append('tspan')
		.attr('dy', 2.7*vh)
		.attr('x', 45*vh)
		.text('WC')
		.attr('fill','#4f4f4f')
		//.attr('text-decoration','underline')
		.attr('font-weight','bold')
		;

table_col2
		.append('tspan')
		.attr('dy', 8*vh)
		.attr('x', 45*vh)
		.text('25 %')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col2
		.append('tspan')
		.attr('dy', 8*vh)
		.attr('x', 45*vh)
		.text('7 %')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col2
		.append('tspan')
		.attr('dy', 8*vh)
		.attr('x', 45*vh)
		.text('57 %')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col2
		.append('tspan')
		.attr('dy', 8*vh)
		.attr('x', 45*vh)
		.text('11 %')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;


var table_col3 = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.5*vh)
					.attr('x', 54*vh)
					.attr('y', 46*vh)
					.attr('text-anchor','middle')
					;

table_col3
		.append('tspan')
		.text('2015')
		.attr('x', 54*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		;

table_col3
		.append('tspan')
		.attr('dy', 2.7*vh)
		.attr('x', 54*vh)
		.text('U-17 WC')
		.attr('fill','#4f4f4f')
		//.attr('text-decoration','underline')
		.attr('font-weight','bold')
		;

table_col3
		.append('tspan')
		.attr('dy', 8*vh)
		.attr('x', 54*vh)
		.text('13 %')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col3
		.append('tspan')
		.attr('dy', 8*vh)
		.attr('x', 54*vh)
		.text('12 %')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col3
		.append('tspan')
		.attr('dy', 8*vh)
		.attr('x', 54*vh)
		.text('62 %')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

table_col3
		.append('tspan')
		.attr('dy', 8*vh)
		.attr('x', 54*vh)
		.text('13 %')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;


svg_canvas
	.append('line')
	//.style("stroke", 'rgb(126,126,126)')
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', 28*vh)
    .attr('y1', 54*vh)
    .attr('x2', 2.6*vh)
    .attr('y2', 63*vh)
    .style("opacity","0")
    .transition()
    	.delay(500)
    	.duration(500)
    	.style("opacity","1")
    ;

svg_canvas
	.append('line')
	//.style("stroke", 'rgb(126,126,126)')
    .style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', 28*vh)
    .attr('y1', 63.5*vh)
    .attr('x2', 7.2*vh)
    .attr('y2', 65.9*vh)
    .style("opacity","0")
    .transition()
    	.delay(500)
    	.duration(500)
    	.style("opacity","1")
    ;

svg_canvas
	.append('line')
	//.style("stroke", 'rgb(126,126,126)')
    .style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', 28*vh)
    .attr('y1', 70.5*vh)
    .attr('x2', 6*vh)
    .attr('y2', 72.5*vh)
    .style("opacity","0")
    .transition()
    	.delay(500)
    	.duration(500)
    	.style("opacity","1")
    ;

svg_canvas
	.append('line')
	//.style("stroke", 'rgb(126,126,126)')
    .style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', 28*vh)
    .attr('y1', 77.5*vh)
    .attr('x2', 15*vh)
    .attr('y2', 77.5*vh)
    .style("opacity","0")
    .transition()
    	.delay(500)
    	.duration(500)
    	.style("opacity","1")
    ;

/*
svg_canvas
			.append('text')
			.attr('font-size', 3*vh)
			.attr('y', 86 * vh)
			.attr('x', 21 * vh)
			.text('FLICK UP')
			.attr('fill','#4f4f4f')
			.style('font-weight','bold')
			;
*/

var width_arrow = (3 * vh),
    height_arrow = (3 * vh)
    ;

var svg_arrow = svg_canvas
				.append("svg")
				.attr('y', 83.2 * vh)
				.attr('x', width_canvas/2 - margin_canvas.left)
 			    .attr("width", width_arrow)
			    .attr("height", height_arrow)
				//.append("g")
			    ;


		d3.xml("svgs/up_arrow_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_arrow
					  .node()
					  .appendChild(svg_node)
					  ;
		});


var width_logo = 12 * vh,
    height_logo = 4 * vh
    ;

var svg_logo = svg_canvas
				.append("svg")
				.attr('y', 83 * vh)
				.attr('x', 3 * vh)
 			    .attr("width", width_logo)
			    .attr("height", height_logo)
				//.append("g")
			    .append("a")
				.attr("xlink:href", "http://www.wionews.com")
			    ;

		d3.xml("svgs/wion_hor_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_logo
				  .node()
				  .appendChild(svg_node)
				  ;
		});

	
	} );

	</script>					
	
</section>

<section data-state="section07" id="section07">


	<script type="text/javascript">
	Reveal.addEventListener( 'section07', function() {

			var vh = W.getViewportHeight()/100 ;

var canvas = d3
				.select('#section07')
				;

canvas
		.selectAll("*")
	    .remove()
	    ;

var margin_canvas = {top: 1 * vh, right: 1*vh, bottom: 1*vh, left: 1*vh},
    width_canvas = (60 * vh) - margin_canvas.left - margin_canvas.right,
    height_canvas = (88 * vh) - margin_canvas.top - margin_canvas.bottom
    ;

var svg_canvas = canvas
					.append("svg")
				    .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
				    .attr("height", height_canvas + margin_canvas.top + margin_canvas.bottom)
				    //the two lines above don't make sense, but don't want to mess with them
					//.append("g")
				    .attr("transform", 
				          "translate(" + margin_canvas.left + "," + margin_canvas.top + ")")
				    ;



var headline_text = 
				svg_canvas
					.append('text')
					.attr('y', 4 * vh)
					.attr('x', width_canvas/2)
					.attr('text-anchor','middle')
					.attr('font-size', 3.5*vh)
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.text('THERE COULD BE MORE GOALS')
		;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.attr('dy', 4*vh)
		.text('IN THE FIRST HALF...')
		;

svg_canvas
	.append('line')
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', width_canvas/2)
    .attr('y1', 14*vh)
    .attr('x2', width_canvas/2)
    .attr('y2', 40*vh)
    ;

var left_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 16 * vh)
					.attr('x', width_canvas/4)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

left_text
		.append('tspan')
		.text('2014 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('163 goals were scored')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('in normal time.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('65 of them were')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('scored in the first half.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text("That's around")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('40 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

var right_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 16 * vh)
					.attr('x', width_canvas*(3/4))
					.attr('dx', 1*vh)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

right_text
		.append('tspan')
		.text('2015 U-17 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('151 goals were scored')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('in normal time.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('68 of them were')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('scored in the first half.')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text("That's around")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;
 

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('45 percent')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;




var height_layer = 50 * vh
          ;

var svg_left = svg_canvas
					.append("svg")
					.attr('y', 37 * vh)
                    .attr('x', 1 * vh)
                    .attr('id','svg_left')
                    .attr("width", (width_canvas + margin_canvas.left + margin_canvas.right)/2)
                    .attr("height", height_layer)
					;

var width_left = +svg_left.attr("width"),
    height_left = +svg_left.attr("height"),
    radius_left = Math.min(width_left, height_left) / 2,
    g_left = svg_left.append("g").attr("transform", "translate(" + width_left / 2 + "," + height_left / 2 + ")")
    ;

var color = d3.scaleOrdinal(["rgb(126,126,126)","rgb(79,79,79)"]);

var pie = d3.pie()
				    .sort(null)
				    .value(function(d) { return d.goals; })
				    ;



var path_left = d3.arc()
    .outerRadius(radius_left - (1.5*vh))
    .innerRadius(0)
    //.startAngle(0)
    ;

var label = d3.arc()
    .outerRadius(radius_left - (8*vh))
    .innerRadius(radius_left - (8*vh))
    ;

//taking pie chart animation code from http://bl.ocks.org/mbostock/5100636

var tau = 2 * Math.PI;

d3.csv("data/slide_6_2014.csv", function(d) {
  d.goals = +d.goals;
  return d;
}, function(error, data) {
  if (error) throw error;

	  var arc = g_left
				  	.selectAll(".arc")
				    .data(pie(data))
				    .enter().append("g")
//				      .attr("class", "arc")
				      ;

  arc.append("path")
      .attr("d", path_left)
      .attr("fill", function(d) { return color(d.data.half); })
      //.attr("stroke","#4f4f4f")
                .transition()
          	//.delay(200)
            .duration(1000)
            .attrTween("d", function (d) {
                var i = d3.interpolate(d.startAngle, d.endAngle);
                return function (t) {
                    d.endAngle = i(t);
                    return path_left(d);
                }
            })
      		;

  arc.append("text")
      .attr("transform", function(d) { return "translate(" + label.centroid(d) + ")"; })
      //.attr("dy", 1*vh)
      .text(function(d) { return d.data.half; })
      .attr("class",'axis')
      .attr("font-size", 2.5*vh)
      .attr("text-anchor",'middle')
      .attr("fill",'#ffda29')
      .attr('font-weight','bold')
      ;

});



var svg_right = svg_canvas
					.append("svg")
					.attr('y', 37 * vh)
                    .attr('x', (width_canvas + margin_canvas.left + margin_canvas.right)/2)
                    .attr('id','svg_right')
                    .attr("width", (width_canvas + margin_canvas.left + margin_canvas.right)/2)
                    .attr("height", height_layer)
					;


 var width_right = +svg_right.attr("width"),
    height_right = +svg_right.attr("height"),
    radius_right = Math.min(width_right, height_right) / 2,
    g_right = svg_right.append("g").attr("transform", "translate(" + width_right / 2 + "," + height_right / 2 + ")")
    ;


var path_right = d3.arc()
    .outerRadius(radius_right - (1.5*vh))
    .innerRadius(0)
    ;

var label_right = d3.arc()
    .outerRadius(radius_right - (8*vh))
    .innerRadius(radius_right - (8*vh))
    ;

d3.csv("data/slide_6_2015.csv", function(d) {
  d.goals = +d.goals;
  return d;
}, function(error, data) {
  if (error) throw error;

//var pie defined in chart for left

  var arc_right = g_right.selectAll(".arc")
    .data(pie(data))
    .enter().append("g")
//      .attr("class", "arc")
      ;

  arc_right.append("path")
      .attr("d", path_right)
      .attr("fill", function(d) { return color(d.data.half); })
      //.attr("stroke","#4f4f4f")
		.transition()
          	//.delay(200)
            .duration(1000)
            .attrTween("d", function (d) {
                var i = d3.interpolate(d.startAngle, d.endAngle);
                return function (t) {
                    d.endAngle = i(t);
                    return path_left(d);
                }
            })
      ;

  arc_right.append("text")
      .attr("transform", function(d) { return "translate(" + label_right.centroid(d) + ")"; })
      //.attr("dy", 1*vh)
      .text(function(d) { return d.data.half; })
      .attr("class",'axis')
      .attr("font-size", 2.5*vh)
      .attr("text-anchor",'middle')
      .attr('fill','#ffda29')
      .attr('font-weight','bold')
      ;

});


/*
svg_canvas
			.append('text')
			.attr('font-size', 3*vh)
			.attr('y', 86 * vh)
			.attr('x', 21 * vh)
			.text('FLICK UP')
			.attr('fill','#4f4f4f')
			.style('font-weight','bold')
			;
*/

var width_arrow = (3 * vh),
    height_arrow = (3 * vh)
    ;

var svg_arrow = svg_canvas
				.append("svg")
				.attr('y', 83.2 * vh)
				.attr('x', width_canvas/2 - margin_canvas.left)
 			    .attr("width", width_arrow)
			    .attr("height", height_arrow)
				//.append("g")
			    ;


		d3.xml("svgs/up_arrow_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_arrow
					  .node()
					  .appendChild(svg_node)
					  ;
		});


var width_logo = 12 * vh,
    height_logo = 4 * vh
    ;

var svg_logo = svg_canvas
				.append("svg")
				.attr('y', 83 * vh)
				.attr('x', 3 * vh)
 			    .attr("width", width_logo)
			    .attr("height", height_logo)
				//.append("g")
			    .append("a")
				.attr("xlink:href", "http://www.wionews.com")
			    ;

		d3.xml("svgs/wion_hor_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_logo
				  .node()
				  .appendChild(svg_node)
				  ;
		});
	
	
	} );

	</script>					
	
</section>



<section data-state="section08" id="section08">
	
	<script type="text/javascript">
	Reveal.addEventListener( 'section08', function() {

			var vh = W.getViewportHeight()/100 ;


var canvas = d3
				.select('#section08')
				;

canvas
		.selectAll("*")
	    .remove()
	    ;

var margin_canvas = {top: 1 * vh, right: 1*vh, bottom: 1*vh, left: 1*vh},
    width_canvas = (60 * vh) - margin_canvas.left - margin_canvas.right,
    height_canvas = (88 * vh) - margin_canvas.top - margin_canvas.bottom
    ;

var svg_canvas = canvas
					.append("svg")
				    .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
				    .attr("height", height_canvas + margin_canvas.top + margin_canvas.bottom)
				    //the two lines above don't make sense, but don't want to mess with them
					//.append("g")
				    .attr("transform", 
				          "translate(" + margin_canvas.left + "," + margin_canvas.top + ")")
				    ;



var headline_text = 
				svg_canvas
					.append('text')
					.attr('y', 4 * vh)
					.attr('x', width_canvas/2)
					.attr('text-anchor','middle')
					.attr('font-size', 3.5*vh)
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.text('YOU MIGHT SEE MORE CARDS...')
		;


svg_canvas
	.append('line')
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('fill','#4f4f4f')
    .attr('x1', width_canvas/2)
    .attr('y1', 12*vh)
    .attr('x2', width_canvas/2)
    .attr('y2', 38*vh)

    ;

var left_text = 
				svg_canvas
					.append('text')
				
					.attr('y', 14 * vh)
					.attr('x', width_canvas/4)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

left_text
		.append('tspan')
		.text('2014 WORLD CUP')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('191 cards,')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

 
left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('red & yellow,')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;



left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('were given over')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text("64 games. That's")
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('an average of')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('3 cards per game')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

var right_text = 
				svg_canvas
					.append('text')
					.attr('y', 14 * vh)
					.attr('x', width_canvas*(3/4))
					.attr('dx', 1*vh)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

right_text
		.append('tspan')
		.text('2015 U-17 WORLD CUP')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('189 cards,')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('red & yellow,')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('were given over')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;


right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text("52 games. That's")
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('an average of')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('3.6 cards per game')
		.attr('font-size', 2.7*vh)
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;


var height_layer = 38 * vh
					;

var svg_left = svg_canvas
							.append('svg')
							.attr('y', 42 * vh)
							.attr('x', 12*vh)
							.attr('id','svg_left')
							.attr("width", (width_canvas + margin_canvas.left + margin_canvas.right)/3)
						    .attr("height", height_layer)
						    ;


d3.xml("svgs/cards_30_min.svg", function(error, xml) {
if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_left
					  .node()
					  .appendChild(svg_node)
					  ;
		
      svg_left
		       .select("#card1")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(600)
		       .attr("fill-opacity","1")
		       ;

	svg_left
		       .select("#card2")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(400)
		       .attr("fill-opacity","1")
		       ;

		svg_left
		       .select("#card3")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(200)
		       .attr("fill-opacity","1")
		       ;

		});

var svg_right = svg_canvas
							.append('svg')
							.attr('y', 42 * vh)
							.attr('x', 39*vh)
							.attr('id','svg_left')
							.attr("width", (width_canvas + margin_canvas.left + margin_canvas.right)/3)
						    .attr("height", height_layer)
							//.append("g") // SEE IF COMMENTING THIS OUT POSES A PROBLEM LATER
						    ;


d3.xml("svgs/cards_36_min.svg", function(error, xml) {
if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_right
					  .node()
					  .appendChild(svg_node)
					  ;

      svg_right
		       .select("#card1")
		       .attr("fill", "rgb(126,126,126)")
				.attr("fill-opacity","0")
		       .transition()
		       .delay(800)
		       .attr("fill-opacity","1")
		       ;

	      svg_right
		       .select("#card2")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(600)
		       .attr("fill-opacity","1")
		       ;

		  svg_right
		       .select("#card3")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(400)
		       .attr("fill-opacity","1")
		       ;

		   svg_right
		       .select("#card4")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(200)
		       .attr("fill-opacity","1")
		       ;

		});




/*
svg_canvas
			.append('text')
			.attr('font-size', 3*vh)
			.attr('y', 86 * vh)
			.attr('x', 21 * vh)
			.text('FLICK UP')
			.attr('fill','#4f4f4f')
			.style('font-weight','bold')
			;
*/

var width_arrow = (3 * vh),
    height_arrow = (3 * vh)
    ;

var svg_arrow = svg_canvas
				.append("svg")
				.attr('y', 83.2 * vh)
				.attr('x', width_canvas/2 - margin_canvas.left)
 			    .attr("width", width_arrow)
			    .attr("height", height_arrow)
				//.append("g")
			    ;


		d3.xml("svgs/up_arrow_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_arrow
					  .node()
					  .appendChild(svg_node)
					  ;
		});


var width_logo = 12 * vh,
    height_logo = 4 * vh
    ;

var svg_logo = svg_canvas
				.append("svg")
				.attr('y', 83 * vh)
				.attr('x', 3 * vh)
 			    .attr("width", width_logo)
			    .attr("height", height_logo)
				//.append("g")
			    .append("a")
				.attr("xlink:href", "http://www.wionews.com")
			    ;

		d3.xml("svgs/wion_hor_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_logo
				  .node()
				  .appendChild(svg_node)
				  ;
		});

	} );

	</script>					
	
</section>

<section data-state="section09" id="section09">
		


	<script type="text/javascript">
	Reveal.addEventListener( 'section09', function() {

			var vh = W.getViewportHeight()/100 ;


var canvas = d3
				.select('#section09')
				;

canvas
		.selectAll("*")
	    .remove()
	    ;

var margin_canvas = {top: 1 * vh, right: 1*vh, bottom: 1*vh, left: 1*vh},
    width_canvas = (60 * vh) - margin_canvas.left - margin_canvas.right,
    height_canvas = (88 * vh) - margin_canvas.top - margin_canvas.bottom
    ;

var svg_canvas = canvas
					.append("svg")
				    .attr("width", width_canvas + margin_canvas.left + margin_canvas.right)
				    .attr("height", height_canvas + margin_canvas.top + margin_canvas.bottom)
				    //the two lines above don't make sense, but don't want to mess with them
					//.append("g")
				    .attr("transform", 
				          "translate(" + margin_canvas.left + "," + margin_canvas.top + ")")
				    ;



var headline_text = 
				svg_canvas
					.append('text')
					.attr('y', 4 * vh)
					.attr('x', width_canvas/2)
					.attr('text-anchor','middle')
					.attr('font-size', 3.5*vh)
					.attr('fill','#4f4f4f')
					.attr('font-weight','bold')
					;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.text('THERE COULD BE MORE')
		;

headline_text
		.append('tspan')
		.attr('x', width_canvas/2)
		.attr('dy', 4*vh)
		.text('PENALTIES TOO.')
		;

svg_canvas
	.append('line')
	.style("stroke", '#4f4f4f')
    .style("stroke-dasharray", "5, 5")
    .attr('x1', width_canvas/2)
    .attr('y1', 12*vh)
    .attr('x2', width_canvas/2)
    .attr('y2', 38*vh)
    ;

var left_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas/4)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

left_text
		.append('tspan')
		.text('2014 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('13 penalties')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text("awarded over")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;



left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text("64 games.")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;


left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text("That's an average of")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('2 penalties every')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

left_text
		.append('tspan')
		.attr('x', width_canvas/4)
		.attr('dy', 4*vh)
		.text('10 games')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

var right_text = 
				svg_canvas
					.append('text')
					.attr('font-size', 2.7*vh)
					.attr('y', 14 * vh)
					.attr('x', width_canvas*(3/4))
					.attr('dx', 1*vh)
					.attr('text-anchor','middle')
					//.call(wrap, 58.5*vh)
					;

right_text
		.append('tspan')
		.text('2015 U-17 WORLD CUP')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		//.attr('text-decoration','underline')
		//.attr('text-decoration-style','dashed')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('25 penalties')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('awarded over')
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text("52 games.")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text("That's an average of")
		.attr('fill','#4f4f4f')
		//.attr('font-weight','bold')
		;
 
right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('5 penalties every')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

right_text
		.append('tspan')
		//.attr('x', width_canvas/4)
		.attr('x', width_canvas*(3/4))
		.attr('dy', 4*vh)
		.text('10 games')
		.attr('fill','#4f4f4f')
		.attr('font-weight','bold')
		;

var height_layer = 38 * vh
					;

var svg_left = svg_canvas
							.append('svg')
							.attr('y', 42 * vh)
							.attr('x', 12*vh)
							.attr('id','svg_left')
							.attr("width", (width_canvas + margin_canvas.left + margin_canvas.right)/3)
						    .attr("height", height_layer)
						    ;

d3.xml("svgs/slide_pen_bubbles_2_min.svg", function(error, xml) {
if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_left
					  .node()
					  .appendChild(svg_node)
					  ;
		
      svg_left
		       .select("#circle1")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(200)
		       .attr("fill-opacity","1")
		       ;

	svg_left
		       .select("#circle2")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(400)
		       .attr("fill-opacity","1")
		       ;


		});

var svg_right = svg_canvas
							.append('svg')
							.attr('y', 42 * vh)
							.attr('x', 39*vh)
							.attr('id','svg_left')
							.attr("width", (width_canvas + margin_canvas.left + margin_canvas.right)/3)
						    .attr("height", height_layer)
							//.append("g") // SEE IF COMMENTING THIS OUT POSES A PROBLEM LATER
						    ;


d3.xml("svgs/slide_pen_bubbles_5_min.svg", function(error, xml) {
if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_right
					  .node()
					  .appendChild(svg_node)
					  ;

      svg_right
		       .select("#circle1")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(200)
		       .attr("fill-opacity","1")
		       ;

	      svg_right
		       .select("#circle2")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(400)
		       .attr("fill-opacity","1")
		       ;

		  svg_right
		       .select("#circle3")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(600)
		       .attr("fill-opacity","1")
		       ;

		   svg_right
		       .select("#circle4")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(800)
		       .attr("fill-opacity","1")
		       ;

		    svg_right
		       .select("#circle5")
		       .attr("fill", "rgb(126,126,126)")
		       .attr("fill-opacity","0")
		       .transition()
		       .delay(1000)
		       .attr("fill-opacity","1")
		       ;

		});




var svg_credits = svg_canvas 
							.append('svg')
							.attr('y', 83.5 * vh)
							.attr('x', width_canvas/2 - (6*vh))
							.attr("width", 12*vh)
							.attr("height", 3.3*vh)
							.append("a")
							.attr("xlink:href", "https://github.com/shijithpk/2017_09_29_U17_World_Cup")
							;

				svg_credits
							.append('text')
							.attr('text-anchor','start')
							.text('CREDITS')
							.attr('fill','#4f4f4f')
							.attr('font-size', 3*vh)
							.style('font-weight','bold')
							.attr('alignment-baseline','hanging')
							.style('text-decoration','underline')
							;
							

/*
var width_logo = 12 * vh,
    height_logo = 4 * vh
    ;

var svg_logo = svg_canvas
				.append("svg")
				.attr('y', 83 * vh)
				.attr('x', 3 * vh)
 			    .attr("width", width_logo)
			    .attr("height", height_logo)
				//.append("g")
			    .append("a")
				.attr("xlink:href", "http://www.wionews.com")
			    ;

		d3.xml("svgs/wion_hor_min.svg", function(error, xml) {
        if (error) {console.log(error); return;}

			var svg_node = xml
                .getElementsByTagName("svg")[0]
                ;

			svg_logo
				  .node()
				  .appendChild(svg_node)
				  ;
		});
*/
	
	} );

	</script>					
	
</section>

</section> 
<!-- ABOVE IS CLOSING TAG FOR SECTION THAT HOLDS ALL THE OTHER SECTIONS -->

			</div>
		</div>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				
				// Display the page number of the current slide
				slideNumber: false,
				//slideNumber: 'c/t',
				
				// Display controls in the bottom right corner
				controls: false,

				//check if there's a setting to have that dot indicator instead
				progress: false,
				
				// Push each slide change to the browser history
				history: false,

				// Enable keyboard shortcuts for navigation
				keyboard: true,
				
				// Vertical centering of slides
				center: true,

				// Enables touch navigation on devices with touch input
				touch: true,

				// Enable slide navigation via mouse wheel
				mouseWheel: true,

				// Transition style for full page slide backgrounds
				backgroundTransition: 'convex', // none/fade/slide/convex/concave/zoom
				
				// Hides the address bar on mobile devices
				hideAddressBar: true,

			    //width: 1024,
			    //height: 768,
			    
			    //height: W.getViewportHeight() * 0.88,
				//width: W.getViewportHeight() * 0.6
			    margin: 0.1,
				minScale: 0.1,
				maxScale: 1.0,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'convex', // default/cube/page/concave/convex/zoom/linear/fade/slide/none
				//apart from 'slide', none of the other transitions look right

				display: 'block'
			
			});

			   Reveal.configure({
							     //height: window.innerHeight,
							     //width: window.innerHeight * 0.5
							     height: W.getViewportHeight(),
							     width: W.getViewportHeight() * 0.6
							    })
			   				;

// d3.select(self.frameElement).style("height", "768px");

		</script>

	</body>
</html>
